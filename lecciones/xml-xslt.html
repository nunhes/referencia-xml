<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>XSLT: Transformacións XSL. XML</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="../varios/xml.css" title="mclibre" />
  <link rel="icon" href="../varios/favicon.svg" />
  <link rel="stylesheet" type="text/css" href="../varios/prism-xml.css" />
  <script src="../varios/prism.js" async="async"></script>
</head>

<body>
  <h1>XSLT: Transformacións XSL</h1>

  <nav>
    <p>
      <a href="../index.html"><img src="../varios/iconos/icono-xml.svg" alt="Índice de XML" title="Índice de XML" width="48" height="48" /></a>
      <a href="#"><img src="../varios/iconos/icono-arrow-circle-up.svg" alt="Principio da páxina" title="Principio da páxina" width="36" height="36" /></a>
    </p>

    <div class="toc">
      <h2>XSLT</h2>

      <ul>
        <li><a href="#xslt-que-es">O linguaxe XSLT</a></li>
        <li><a href="#xslt-hojas-estilo">Hojas de estilo XSLT</a></li>
        <li><a href="#xslt-enlazar">Enlazar follas de estilo XSLT</a></li>
        <li><a href="#xslt-navegador">Abrir en navegador</a></li>
        <li><a href="#xslt-plantillas">Ejemplos plantillas XSLT</a>
          <ul>
            <li><a href="#xslt-plantilla-vacia">Plantillas vacías</a></li>
            <li><a href="#xslt-value-of"><span class="xsl-i">&lt;xsl:value-of&gt;</span></a></li>
            <li><a href="#xslt-generar-texto">Generar texto adicional</a></li>
            <li><a href="#xslt-apply-templates"><span class="xsl-i">&lt;xsl:apply-templates&gt;</span></a></li>
            <li><a href="#xslt-text-strip-space"><span class="xsl-i">&lt;xsl:text&gt;</span> <span class="xsl-i">&lt;xsl:strip-space&gt;</span></a></li>
            <li><a href="#xslt-attribute">atributos <span class="xsl-i">&lt;xsl:attribute&gt;</span></a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <section id="xslt-que-es">
    <h2>O linguaxe de programación XSLT</h2>

    <p>XSLT (Transformacións XSL) es un linguaxe de programación declarativo que permite generar documentos a partir de documentos XML, como ilustra a imagen seguinte:</p>

    <p class="mcl-centrado">
      <img src="../img/xslt-resumen.png" alt="XSLT Transformacións XSL" width="731" height="150" />
    </p>

    <p></p>
    <ul>
      <li>O documento XML es o documento inicial a partir do cual se va a generar o resultado.</li>
      <li>La folla de estilo XSLT es o documento que contiene o código fuente do programa, es decir, as regras de transformación que se van a aplicar al documento inicial.</li>
      <li>O procesador XSLT es o programa de ordenador que aplica al documento inicial as regras de transformación incluidas na folla de estilo XSLT e genera o documento final.</li>
      <li>O resultado da ejecución do programa es un nuevo documento (que puede ser un documento XML o no).</li>
    </ul>

    <p>XSLT se utiliza para obtener a partir dun documento XML outros documentos (XML o no). A un documento XML se le pueden aplicar distintas follas de estilo XSLT para obtener distintos resultados e unha misma folla de estilo XSLT se puede aplicar a distintos documentos XML.</p>

    <p>O linguaxe XSLT está normalizado por o W3C, que ha publicado tres versións de este linguaxe:</p>
    <ul>
      <li>novembro de 1999: <a href="http://www.w3.org/TR/1999/REC-xslt-19991116">XSLT 1.0</a></li>
      <li>xaneiro de 2007: <a href="http://www.w3.org/TR/2007/REC-xslt20-20070123/">XSLT 2.0</a></li>
      <li>xuño de 2017: <a href="https://www.w3.org/TR/2017/REC-xslt-30-20170608/">XSLT 3.0</a></li>
      <li>marzo de 2021: <a href="https://www.w3.org/TR/2021/REC-xslt20-20210330/">XSLT 2.0 (2ª ed)</a></li>
    </ul>

    <p class="mcl-svg-diagrama-temporal">
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1000" viewBox="-50 -60 1000 100">
        <line x1="-50" y1="0" x2="950" y2="0" stroke-width="3" stroke="red" />
        <line x1="0" y1="-30" x2="0" y2="30" stroke-width="2" stroke-dasharray="5,5" stroke="black" />
        <text x="0" y="-40" text-anchor="middle" style="font-size: 100%">1995</text>
        <line x1="150" y1="-30" x2="150" y2="30" stroke-width="2" stroke-dasharray="5,5" stroke="black" />
        <text x="150" y="-40" text-anchor="middle" style="font-size: 100%">2000</text>
        <line x1="300" y1="-30" x2="300" y2="30" stroke-width="2" stroke-dasharray="5,5" stroke="black" />
        <text x="300" y="-40" text-anchor="middle" style="font-size: 100%">2005</text>
        <line x1="450" y1="-30" x2="450" y2="30" stroke-width="2" stroke-dasharray="5,5" stroke="black" />
        <text x="450" y="-40" text-anchor="middle" style="font-size: 100%">2010</text>
        <line x1="600" y1="-30" x2="600" y2="30" stroke-width="2" stroke-dasharray="5,5" stroke="black" />
        <text x="600" y="-40" text-anchor="middle" style="font-size: 100%">2015</text>
        <line x1="750" y1="-30" x2="750" y2="30" stroke-width="2" stroke-dasharray="5,5" stroke="black" />
        <text x="750" y="-40" text-anchor="middle" style="font-size: 100%">2020</text>
        <line x1="900" y1="-30" x2="900" y2="30" stroke-width="2" stroke-dasharray="5,5" stroke="black" />
        <text x="900" y="-40" text-anchor="middle" style="font-size: 100%">2025</text>
        <circle cx="146" cy="0" r="7" fill="red" />
        <text x="146" y="-15" text-anchor="middle" fill="red" style="font-size: 100%; font-weight: bold">XSLT 1.0</text>
        <circle cx="362" cy="0" r="7" fill="red" />
        <text x="362" y="-15" text-anchor="middle" fill="red" style="font-size: 100%; font-weight: bold">XSLT 2.0</text>
        <circle cx="673" cy="0" r="7" fill="red" />
        <text x="673" y="-15" text-anchor="middle" fill="red" style="font-size: 100%; font-weight: bold">XSLT 3.0</text>
        <circle cx="788" cy="0" r="7" fill="red" />
        <text x="788" y="-15" text-anchor="middle" fill="red" style="font-size: 100%; font-weight: bold">XSLT 2.0 (2ª ed)</text>
      </svg>
    </p>

    <p>Aunque hay incompatibilidades entre estas versiones, lo que se cuenta en esta lección es válido para todas ellas.</p>
  </section>

  <section id="xslt-hojas-estilo">
    <h2>Hojas de estilo XSLT</h2>

    <p>XSLT es un linguaxe declarativo. Por ello, as follas de estilo XSLT no se escriben como unha secuencia de instrucciones, sino como unha colección de plantillas (template rules). Cada plantilla establece cómo se transforma un determinado elemento (definido mediante expresións XPath). La transformación do documento se realiza da seguinte manera:</p>
    <ul>
      <li>O procesador analiza o documento e construye o árbol do documento.</li>
      <li>O procesador recorre o árbol do documento desde o nodo raíz.</li>
      <li>En cada nodo recorrido, o procesador aplica o no algunha plantilla:
        <ul>
          <li>Si a un nodo no se le puede aplicar ninguna plantilla, su contenido se incluye no documento final (el texto do nodo, no o dos nodos descendientes). A continuación, o procesador recorre sus nodos hijos.</li>
          <li>Si a un nodo se le puede aplicar unha plantilla, se aplica a plantilla. La plantilla puede generar texto que se incluye no documento final. En principio, o procesador no recorre sus nodos hijos, salvo que a plantilla indique al procesador que sí que deben recorrerse os nodos hijos.</li>
        </ul>
      </li>
      <li>Cuando o procesador ha recorrido o árbol, se ha terminado a transformación.</li>
    </ul>

    <hr class="corta" />

    <p>Una folla de estilo XSLT es un documento XML que contiene al menos as etiquetas seguintes:</p>

    <div class="codigo">
      <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;
&lt;/xsl:stylesheet&gt;</code>
</pre>
    </div>

    <p>Estas etiquetas son:</p>

    <ul>
      <li>la declaración xml <span class="xml-pi">&lt;?xml&gt;</span>, propia de calquera documento XML.</li>
      <li>la instrucción <span class="xsl-i">&lt;xsl:stylesheet&gt;</span> es a etiqueta raíz da folla de estilo, sus atributos indican a versión e o espacio de nombres correspondiente.</li>
    </ul>

    <hr class="corta" />

    <p>Dentro da instrucción <span class="xsl-i">&lt;xsl:stylesheet&gt;</span> se pueden encontrar os llamados elementos de alto nivel e as plantillas, como no ejemplo seguinte:</p>

    <div class="codigo">
      <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:output method="xml" indent="yes"/&gt;

  &lt;xsl:template match="/"&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
    </div>

    <p>Estas etiquetas son</p>
    <ul>
      <li>el elemento de alto nivel <span class="xsl-i">&lt;xsl:output&gt;</span> indica o tipo de salida producida.</li>
      <li>la instrucción <span class="xsl-i">&lt;xsl:template&gt;</span> es unha plantilla.
        <ul>
          <li>O atributo <span class="xsl-atri">match</span> indica os elementos afectados por a plantilla e contiene unha expresión XPath.</li>
          <li>O contenido da instrucción define a transformación a aplicar (si a instrucción no contiene nada, como no ejemplo anterior, sustituirá o nodo por nada, es decir, eliminará o nodo, aunque conservará o texto contenido no elemento).</li>
        </ul>
      </li>
    </ul>

    <hr class="corta" />

    <p>Cuando se aplica unha plantilla a un nodo, en principio no se recorren os nodos descendientes. Para indicar que sí queremos recorrer os nodos descendientes e aplicarles as plantillas que les correspondan, hay que utilizar a instrucción <span class="xsl-i">&lt;xsl:apply-templates /&gt;</span>, como no ejemplo seguinte:</p>

    <div class="codigo">
      <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="/"&gt;
    &lt;xsl:apply-templates /&gt;
  &lt;/xsl:template&gt;

  &lt;xsl:template match="elemento"&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
    </div>
  </section>

  <section id="xslt-enlazar">
    <h2>Enlazar documentos XML con follas de estilo XSLT</h2>

    <p>Se puede asociar de forma permanente unha folla de estilo XSLT a un documento XML mediante a instrucción de procesamento <span class="xml-pi">&lt;?xml-stylesheet ?&gt;</span>, a misma que permite <a href="xml-css.html#xml-css">asociar follas de estilo CSS</a>. La instrucción de procesamento <span class="xml-pi">&lt;?xml-stylesheet ... ?&gt;</span> va al principio do documento, despois da declaración XML.</p>

    <div class="codigo">
      <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
<span class="codigo-resaltado">&lt;?xml-stylesheet <span class="attr-name">type</span>=<span class="attr-value">"text/xsl"</span> <span class="attr-name">href</span>=<span class="attr-value">"ejemplo.xsl"</span>?&gt;</span></code>
</pre>
    </div>

    <p>Cuando se visualiza nun navegador web un documento XML enlazado con unha folla de estilo XSLT, os navegadores muestran o resultado da transformación, aunque si se muestra o código fuente da páxina, os navegadores muestran o documento XML original.</p>

    <p><strong>Nota</strong>: Google Chrome no muestra os documentos XML que enlazan a follas de estilo XSLT abiertos como archivos locales (file://...), como se comenta na <a href="../otros/diferencias-navegadores.html#enlazar-xslt">sección de diferencias entre navegadores</a>. Firefox e Microsoft Edge sí lo hacen.</p>
  </section>

  <section id="xslt-navegador">
    <h2>Abrir documentos XML con follas de estilo XSLT no navegador</h2>

    <p>Al abrir nun navegador unha páxina XML enlazada con unha folla de estilo XSLT, o navegador muestra o resultado da transformación. Pero no muestra o código fuente obtenido como resultado, sino interpretando ese código fuente, como cuando se enlaza unha folla de estilo CSS vacía.</p>

    <p>Nos ejemplos de esta páxina se ha incluido a a derecha un enlace para abrir o ejemplo no navegador. En os primeros ejemplos, o resultado es texto que se muestra todo seguido. Más adelante, en esta misma sección, en os ejemplo se generan resultados que o navegador puede mostrar en forma de párrafos. Nos exercicios se proponen transformacións que o navegador puede mostrar en forma de listas o tablas.</p>

    <p>Realmente, tanto en os ejemplos como en os exercicios no es necesario abrir os archivos no navegador. Basta con comprobar que se obtiene o resultado deseado en XML Copy Editor (u otro editor que estemos utilizando).</p>
  </section>

  <section id="xslt-plantillas">
    <h2>Ejemplos de plantillas XSLT</h2>

    <p>Vamos a ver ejemplos de plantillas trabajando sobre o documento seguinte:</p>

    <div class="codigo">
      <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;biblioteca&gt;
  &lt;libro&gt;
    &lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
    &lt;autor&gt;Milan Kundera&lt;/autor&gt;
    &lt;fechaPublicacion ano="1973"/&gt;
  &lt;/libro&gt;
  &lt;libro&gt;
    &lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
    &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
    &lt;fechaPublicacion ano="1973"/&gt;
  &lt;/libro&gt;
  &lt;libro&gt;
    &lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
    &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
    &lt;fechaPublicacion ano="1969"/&gt;
  &lt;/libro&gt;
&lt;/biblioteca&gt;</code>
</pre>
    </div>

    <p>Si os ejemplos de esta páxina se abren no navegador, o resultado no coincide en casi todos os casos con o que se muestra en esta páxina xa que os navegadores no respetan os saltos de línea ni os espacios en blanco, ni muestran as etiquetas. Los resultados que se muestran en esta páxina son os que se obteñen con XML Copy Editor.</p>

    <section id="xslt-plantilla-vacia">
      <h3>Plantillas vacías o no existentes</h3>
      <ul>
        <li>Si no hay plantillas, o procesador simplemente recorre todos os nodos e extrae o texto contenido por cada nodo.<br />

          <p>En o ejemplo seguinte, o resultado incluye o contenido dos nodos <span class="xml-tag">&lt;título&gt;</span> e <span class="xml-tag">&lt;autor&gt;</span> puesto que no hay ninguna plantilla.</p>

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;

    La vida está en otra parte
    Milan Kundera

    Pantaleón e as visitadoras
    Mario Vargas Llosa

    Conversación na catedral
    Mario Vargas Llosa</code>
</pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-01-1.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>
        </li>
        <li>Si hay unha plantilla vacía, o procesador no genera ningún resultado no documento final ni recorre os nodos hijos.<br />

          <p>En o ejemplo seguinte, o resultado incluye o contenido dos nodos <span class="xml-tag">&lt;titulo&gt;</span>, xa que no hay regla para ellos, pero os de <span class="xml-tag">&lt;autor&gt;</span> se pierden porque a plantilla es vacía.</p>

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="autor"&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code></pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;

    La vida está en otra parte

    Pantaleón e as visitadoras

    Conversación na catedral</code>
</pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-01-2.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>
        </li>
        <li>En o caso máis extremo, si a plantilla vacía se aplica al nodo raíz, o procesador no genera ningún resultado no documento final ni recorre ningún nodo hijo.<br />

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="/"&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre><code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;</code></pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-01-3.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>
        </li>
      </ul>
    </section>

    <section id="xslt-value-of">
      <h3>La instrucción <span class="xsl-i">&lt;xsl:value-of&gt;</span></h3>

      <p>La instrucción <span class="xsl-i">&lt;xsl:value-of&gt;</span> extrae o contenido do nodo seleccionado.</p>
      <ul>
        <li>En o ejemplo seguinte, o documento final contiene os autores dos libros porque a plantilla os genera con a instrucción <span class="xsl-i">&lt;xsl:value-of&gt;</span>. Como se ha aplicado unha plantilla al nodo <span class="xml-tag">&lt;libro&gt;</span>, sus hijos (<span class="xml-tag">&lt;titulo&gt;</span>, <span class="xml-tag">&lt;autor&gt;</span> e <span class="xml-tag">&lt;fechaPublicacion&gt;</span>) no se recorren. Por eso, os títulos dos libros no aparecen no documento final.

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="libro"&gt;
     &lt;xsl:value-of select="autor"/&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;

  Milan Kundera
  Mario Vargas Llosa
  Mario Vargas Llosa</code>
</pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-02-1.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>
        </li>
        <li>En o ejemplo seguinte, se obteñen o titulo e o autor dos libros, pero uno a continuación de otro. Los saltos de línea se crean tras cada aplicación da regla (es decir, a cada libro), pero no no interior da regla.

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="libro"&gt;
     &lt;xsl:value-of select="titulo"/&gt;
     &lt;xsl:value-of select="autor"/&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code></pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;

  La vida está en otra parteMilan Kundera
  Pantaleón e as visitadorasMario Vargas Llosa
  Conversación na catedralMario Vargas Llosa</code>
</pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-02-2.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>
        </li>
        <li>En o ejemplo seguinte, os autores se obteñen gracias a a regla que extrae o contenido do nodo (el carácter punto "." hace referencia al propio elemento) e os títulos se obteñen porque al no haber regras para ese nodo se extrae o contenido. O resultado es o mismo que o do ejemplo 1-1, pero por motivos distintos.

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="autor"&gt;
     &lt;xsl:value-of select="."/&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code></pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;

    La vida está en otra parte
    Milan Kundera

    Pantaleón e as visitadoras
    Mario Vargas Llosa

    Conversación na catedral
    Mario Vargas Llosa</code>
</pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-02-3.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>
        </li>
      </ul>

      <p>También se pueden extraer os valores dos atributos, utilizando @.</p>

      <ul>
        <li>En o ejemplo seguinte, as fechas de publicación se obteñen gracias a a regla que extraen o valor do atributo e os títulos e autores se obteñen porque al no haber regras para ese nodo se extrae o contenido.

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="fechaPublicacion"&gt;
     &lt;xsl:value-of select="@ano"/&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;

    La vida está en otra parte
    Milan Kundera
    1973

    Pantaleón e as visitadoras
    Mario Vargas Llosa
    1973

    Conversación na catedral
    Mario Vargas Llosa
    1969</code>
</pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-02-4.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>
        </li>
      </ul>
    </section>

    <section id="xslt-generar-texto">
      <h3>Generar texto adicional</h3>

      <p>Se puede generar texto escribiéndolo na regla, por ejemplo, código html.</p>

      <ul>
        <li>En o ejemplo seguinte se obteñen os nombres dos autores porque a regla selecciona o nodo <span class="xml-tag">&lt;libro&gt;</span> como no ejemplo, 2-1, pero además generamos as etiquetas <span class="html-eti">&lt;p&gt;</span>. O resultado sigue sin verse ben no navegador, porque aunque hay etiquetas <span class="html-eti">&lt;p&gt;</span>, falta a etiqueta global <span class="html-eti">&lt;html&gt;</span>.

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="libro"&gt;
     &lt;p&gt;&lt;xsl:value-of select="autor"/&gt;&lt;/p&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;

&lt;p&gt;Milan Kundera&lt;/p&gt;
&lt;p&gt;Mario Vargas Llosa&lt;/p&gt;
&lt;p&gt;Mario Vargas Llosa&lt;/p&gt;</code>
</pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-03-1.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>
        </li>
      </ul>

      <p>Dentro da regla podemos hacer referencia a varios subnodos.</p>
      <ul>
        <li>En o ejemplo seguinte se obteñen os nombres dos autores e os títulos dos libros porque a regla selecciona o nodo <span class="xml-tag">&lt;libro&gt;</span> como no ejemplo, 2-1, pero además generamos as etiquetas <span class="html-eti">&lt;p&gt;</span>. O resultado sigue sin verse ben no navegador, porque aunque hay etiquetas <span class="html-eti">&lt;p&gt;</span>, falta a etiqueta global <span class="html-eti">&lt;html&gt;</span>.

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="libro"&gt;
     &lt;p&gt;&lt;xsl:value-of select="autor"/&gt;&lt;/p&gt;
     &lt;p&gt;&lt;xsl:value-of select="titulo"/&gt;&lt;/p&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;

&lt;p&gt;Milan Kundera&lt;/p&gt;
&lt;p&gt;La vida está en otra parte&lt;/p&gt;

&lt;p&gt;Mario Vargas Llosa&lt;/p&gt;
&lt;p&gt;Pantaleón e as visitadoras&lt;/p&gt;

&lt;p&gt;Mario Vargas Llosa&lt;/p&gt;
&lt;p&gt;Conversación na catedral&lt;/p&gt;</code>
</pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-03-2.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>
        </li>
        <li>
          <p>Los seguintes ejemplos intentan conseguir o mismo resultado que o ejemplo anterior (ejemplo 3-2), pero utilizando dos reglas, e no lo consiguen:</p>

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="libro"&gt;
     &lt;p&gt;&lt;xsl:value-of select="autor"/&gt;&lt;/p&gt;
 &lt;/xsl:template&gt;

  &lt;xsl:template match="libro"&gt;
     &lt;p&gt;&lt;xsl:value-of select="titulo"/&gt;&lt;/p&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;

&lt;p&gt;La vida está en otra parte&lt;/p&gt;

&lt;p&gt;Pantaleón e as visitadoras&lt;/p&gt;

&lt;p&gt;Conversación na catedral&lt;/p&gt;</code>
</pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-03-3.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="libro"&gt;
     &lt;p&gt;&lt;xsl:value-of select="titulo"/&gt;&lt;/p&gt;
  &lt;/xsl:template&gt;

  &lt;xsl:template match="libro"&gt;
     &lt;p&gt;&lt;xsl:value-of select="autor"/&gt;&lt;/p&gt;
 &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;

&lt;p&gt;Milan Kundera&lt;/p&gt;

&lt;p&gt;Mario Vargas Llosa&lt;/p&gt;

&lt;p&gt;Mario Vargas Llosa&lt;/p&gt;</code>
</pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-03-4.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>

          <p>¿Por qué nun caso se obteñen sólo os títulos e no otro sólo os autores? Porque o procesador XSLT sólo aplica unha regla a cada nodo. Si tenemos dos regras para o mismo nodo, o procesador sólo aplica unha de ellas (la última, en este caso).</p>
        </li>
      </ul>

      <p>Además de generar etiquetas, se puede generar texto.</p>
      <ul>
        <li>En o ejemplo seguinte se generan frases a partir do contenido dos nodos.

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="libro"&gt;
    &lt;p&gt;&lt;xsl:value-of select="autor"/&gt; escribió "&lt;xsl:value-of select="titulo"/&gt;"&lt;/p&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;

&lt;p&gt;Milan Kundera escribió "La vida está en otra parte"&lt;/p&gt;

&lt;p&gt;Mario Vargas Llosa escribió "Pantaleón e as visitadoras"&lt;/p&gt;

&lt;p&gt;Mario Vargas Llosa escribió "Conversación na catedral"&lt;/p&gt;</code>
</pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-03-5.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>
        </li>
      </ul>
    </section>

    <section id="xslt-apply-templates">
      <h3>Aplicar regras a subnodos: a instrucción <span class="xsl-i">&lt;xsl:apply-templates&gt;</span></h3>

      <p>La instrucción <span class="xsl-i">&lt;xsl:apply-templates&gt;</span> hace que se apliquen a os subelementos as regras que les sean aplicables.</p>

      <ul>
        <li>En o ejemplo seguinte, se genera a etiqueta <span class="html-eti">&lt;html&gt;</span> además de unos párrafos con os nombres dos autores. Este ejemplo sí que se puede ver no navegador xa que se interpreta como html.

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="/"&gt;
    &lt;html&gt;
      &lt;h1&gt;Autores&lt;/h1&gt;
      &lt;xsl:apply-templates /&gt;
    &lt;/html&gt;
  &lt;/xsl:template&gt;

  &lt;xsl:template match="libro"&gt;
     &lt;p&gt;&lt;xsl:value-of select="autor"/&gt;&lt;/p&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;html&gt;&lt;h1&gt;Autores&lt;/h1&gt;
  &lt;p&gt;Milan Kundera&lt;/p&gt;
  &lt;p&gt;Mario Vargas Llosa&lt;/p&gt;
  &lt;p&gt;Mario Vargas Llosa&lt;/p&gt;
&lt;/html&gt;</code>
        </pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-04-1.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>

          <p>La primera regla sustituye o elemento raíz (y todos sus subelementos) por as etiquetas <span class="html-eti">&lt;html&gt;</span> e <span class="html-eti">&lt;h1&gt;</span>, pero además aplica a os subelementos as regras que les son aplicables. En este caso, sólo hay unha regla para os elementos <span class="xml-tag">&lt;libro&gt;</span> que generan os párrafos.</p>
        </li>
      </ul>
    </section>

    <section id="xslt-text-strip-space">
      <h3>Saltos de línea e espacios en blanco: as instruccións <span class="xsl-i">&lt;xsl:text&gt;</span> e <span class="xsl-i">&lt;xsl:strip-space&gt;</span></h3>

      <p>Al transformar un documento, os procesadores XSLT incorporan saltos de línea e espacios en blanco no resultado, pero no lo hacen de forma uniforme. Por ejemplo, XML Copy Editor e Notepad++ (con o plug-in XML Tools) producen diferentes resultados.</p>

      <p>No parece haber unha solución sencilla que funcione en todos os procesadores, pero sí solucións que funcionen en cada uno de ellos.</p>

      <h4>La instrucción <span class="xsl-i">&lt;xsl:strip-space&gt;</span></h4>

      <p><strong>En o caso de XML Copy Editor</strong>, a forma máis sencilla de mejorar o formato de presentación dos resultados, eliminando líneas en blanco innecesarias e sangrando os elementos anidados, es utilizar a instrucción <span class="xsl-i">&lt;xsl:strip-space&gt;</span>. Pero debe tenerse en cuenta que esta instrucción no produce o mismo resultado en outros procesadores XSLT (como en Notepad++ con XML Tools).</p>

      <p>La instrucción <span class="xsl-i">&lt;xsl:strip-space&gt;</span> permite indicar si os elementos que conteñen únicamente espacios en blanco se incluyen na transformación o no.</p>

      <ul>
        <li>En o ejemplo anterior (del <a href="#xslt-apply-templates">apartado sobre a instrucción <span class="xsl-i">&lt;xsl:apply-templates&gt;</span></a>) a etiqueta <span class="html-eti">&lt;h1&gt;</span> se generaba na misma línea que a etiqueta <span class="html-eti">&lt;html&gt;</span>, pero no ejemplo seguinte se generan en líneas distintas (y as etiquetas se muestran sangradas) al utilizar a instrucción <span class="xsl-i">&lt;xsl:strip-space&gt;</span>:

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;
  <span class="codigo-resaltado">&lt;xsl:strip-space elements="*" /&gt;</span>

  &lt;xsl:template match="/"&gt;
    &lt;html&gt;
      &lt;h1&gt;Autores&lt;/h1&gt;
      &lt;xsl:apply-templates /&gt;
    &lt;/html&gt;
  &lt;/xsl:template&gt;

  &lt;xsl:template match="libro"&gt;
     &lt;p&gt;&lt;xsl:value-of select="autor"/&gt;&lt;/p&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;html&gt;
  &lt;h1&gt;Autores&lt;/h1&gt;
  &lt;p&gt;Milan Kundera&lt;/p&gt;
  &lt;p&gt;Mario Vargas Llosa&lt;/p&gt;
  &lt;p&gt;Mario Vargas Llosa&lt;/p&gt;
&lt;/html&gt;</code>
        </pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-05-1.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>
        </li>
      </ul>

      <h4>La instrucción <span class="xsl-i">&lt;xsl:text&gt;</span></h4>

      <p><strong>En o caso de Notepad++ con XML Tools</strong>, se puede mejorar o formato de presentación dos resultados, insertando líneas en blanco innecesarias e sangrando os elementos anidados, utilizando a instrucción <span class="xsl-i">&lt;xsl:text&gt;</span>. Pero debe tenerse en cuenta que esta instrucción no permite eliminar líneas en blanco que se producen en outros procesadores (como en XML Copy Editor).</p>

      <p>La instrucción <span class="xsl-i">&lt;xsl:text&gt;</span> permite generar texto que no se puede generar simplemente añadiéndolo (saltos de líneas e espacios en blanco, por ejemplo).</p>

      <ul>
        <li>En o ejemplo anterior (del <a href="#xslt-apply-templates">apartado sobre a instrucción <span class="xsl-i">&lt;xsl:apply-templates&gt;</span></a>) a etiqueta <span class="html-eti">&lt;h1&gt;</span> se generaba na misma línea que a etiqueta <span class="html-eti">&lt;html&gt;</span>, pero no ejemplo seguinte se generan en líneas distintas al añadir un salto de línea con a entidad de carácter &amp;#10; (y un par de espacios para alinear a etiqueta <span class="html-eti">&lt;h1&gt;</span> con as etiquetas <span class="html-eti">&lt;p&gt;</span>):

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="/"&gt;
    &lt;html&gt;
      <span class="codigo-resaltado">&lt;xsl:text&gt;&amp;#10;  &lt;/xsl:text&gt;</span>
      &lt;h1&gt;Autores&lt;/h1&gt;
      &lt;xsl:apply-templates /&gt;
    &lt;/html&gt;
  &lt;/xsl:template&gt;

  &lt;xsl:template match="libro"&gt;
     &lt;p&gt;&lt;xsl:value-of select="autor"/&gt;&lt;/p&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;html&gt;
  &lt;h1&gt;Autores&lt;/h1&gt;
  &lt;p&gt;Milan Kundera&lt;/p&gt;
  &lt;p&gt;Mario Vargas Llosa&lt;/p&gt;
  &lt;p&gt;Mario Vargas Llosa&lt;/p&gt;
&lt;/html&gt;</code>
        </pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-05-2.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>
        </li>
      </ul>

    </section>

    <section id="xslt-attribute">
      <h3>La instrucción <span class="xsl-i">&lt;xsl:attribute&gt;</span></h3>

      <p>La instrucción <span class="xsl-i">&lt;xsl:attribute&gt;</span> permite generar un atributo e su valor. Se utiliza cuando o valor do atributo se obtiene a su vez de algún nodo.</p>

      <p>Por ejemplo, a partir do seguinte documento XML, se quiere generar a etiqueta <span class="html-eti">&lt;img&gt;</span>. na que o valor do atributo <span class="html-atri">src</span> sea o contenido da etiqueta <span class="xml-tag">&lt;imagen&gt;</span>.</p>

      <div class="codigo">
        <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;licencias&gt;
  &lt;licencia&gt;
    &lt;nombre&gt;Creative Commons By - Share Alike&lt;/nombre&gt;
    &lt;imagen&gt;cc-bysa-88x31.png&lt;/imagen&gt;
  &lt;/licencia&gt;
&lt;/licencias&gt;</code>
</pre>
      </div>
      <ul>
        <li>No se puede utilizar a instrucción <span class="xsl-i">&lt;xsl:value-of&gt;</span> como no ejemplo incorrecto seguinte:

          <div class="filaflex cabecera">
            <div class="icono-navegadores-vacio"><img src="../varios/iconos/icono-transparente.svg" alt="Hueco" width="40" height="4" /></div>
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="icono-ok"><img src="../varios/iconos/icono-okno.svg" alt="Incorrecto" title="Incorrecto" width="40" height="40" /></div>
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="licencia"&gt;
    &lt;p&gt;&lt;img src="&lt;xsl:value-of select="imagen" /&gt;" /&gt;&lt;/p&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre>Error at line 5, column 19: not well-formed (invalid  token)</pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-06-1.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>

          <p>En este caso o problema no es debido a a utilización de comillas dobles (también daría error si se hubieran utilizado comillas simples o entidades), sino que es necesario utilizar a instrucción <span class="xsl-i">&lt;xsl:attribute&gt;</span>.</p>
        </li>
        <li>Para generar un atributo en unha etiqueta, es necesario utilizar a instrucción <span class="xsl-i">&lt;xsl:attribute&gt;</span>, como no ejemplo seguinte:

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="licencia"&gt;
    &lt;p&gt;&lt;img&gt;
    &lt;xsl:attribute name="src"&gt;
      &lt;xsl:value-of select="imagen" /&gt;
    &lt;/xsl:attribute&gt;
    &lt;/img&gt;
    &lt;/p&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;p&gt;
  &lt;img src="cc-bysa-88x31.png"/&gt;
&lt;/p&gt;</code>
</pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-06-2.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>
          <p>En a folla de estilo XSLT, a etiqueta <span class="html-eti">&lt;img&gt;</span> se escribe con apertura e cierre, aunque no resultado aparece como etiqueta monoatómica.</p>

          <p>De todas formas, o navegador no mostraría todavía a imagen, puesto que no interpreta a etiqueta <span class="html-eti">&lt;img&gt;</span> como a etiqueta de imagen da HTML.</p>
        </li>
        <li>Como en ejemplos anteriores, para que a imagen se muestre no navegador sería necesario generar tamén a etiqueta <span class="html-eti">&lt;html&gt;</span>:

          <div class="filaflex cabecera">
            <div>XSLT</div>
            <div>Resultado</div>
            <div class="icono-enlace">Enlace</div>
          </div>

          <div class="filaflex">
            <div class="codigo">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;

  &lt;xsl:template match="/"&gt;
    &lt;html&gt;
     &lt;xsl:apply-templates /&gt;
    &lt;/html&gt;
  &lt;/xsl:template&gt;

  &lt;xsl:template match="licencia"&gt;
    &lt;p&gt;&lt;img&gt;
    &lt;xsl:attribute name="src"&gt;
      &lt;xsl:value-of select="imagen" /&gt;
    &lt;/xsl:attribute&gt;
    &lt;/img&gt;
    &lt;/p&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code>
</pre>
            </div>
            <div class="resultado-xslt">
              <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;html&gt;
  &lt;p&gt;&lt;img src="cc-bysa-88x31.png"/&gt;&lt;/p&gt;
&lt;/html&gt;</code>
</pre>
            </div>
            <div class="icono-enlace"><a href="../ejemplos/ejemplos-xslt/ejemplo-xslt-06-3.xml"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36" /></a></div>
          </div>
        </li>
      </ul>
    </section>
  </section>

  <footer>
    <p class="ultmod">Última modificación de esta páxina: 1 de abril de 2021</p>

    <p class="licencia">
      <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES"><img src="../varios/iconos/icono-cc-by-sa.svg" alt="Licencia Creative Commons" title="Licencia Creative Commons BY-SA" width="120" height="42" /></a><br />
      Esta páxina forma parte do curso <strong><a href="https://www.mclibre.org/consultar/xml/">XML: Linguaxe de marcas extensible</a></strong> por <a href="https://www.mclibre.org/">Bartolomé Sintes Marco</a><br />
      que se distribuye bajo unha <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES">Licencia Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional (CC BY-SA 4.0)</a>.
    </p>
  </footer>
</body>
</html>
