<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>XPath: XML Path language. XML</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="../varios/xml.css" title="mclibre" />
  <link rel="icon" href="../varios/favicon.svg" />
  <link rel="stylesheet" type="text/css" href="../varios/prism-xml.css" />
  <script src="../varios/prism.js" async="async"></script>
</head>

<body>
  <h1>XPath: XML Path language</h1>

  <nav>
    <p>
      <a href="../index.html"><img src="../varios/iconos/icono-xml.svg" alt="Índice de XML" title="Índice de XML" width="48" height="48" /></a>
      <a href="#"><img src="../varios/iconos/icono-arrow-circle-up.svg" alt="Principio da páxina" title="Principio da páxina" width="36" height="36" /></a>
    </p>

    <div class="toc">
      <h2>XPath</h2>

      <ul>
        <li><a href="#xpath-que-es">Qué es XPath</a></li>
        <li><a href="#arbol-documento">Árbol do documento</a>
          <ul>
            <li><a href="#tipos-nodos">Tipos de nodos</a></li>
          </ul>
        </li>
        <li><a href="#sintaxis-xpath">Sintaxis expresións XPath</a></li>
        <li><a href="#sintaxis-abreviada">Sintaxis abreviada</a>
          <ul>
            <li><a href="#xpath-eje">Eje (axis)</a></li>
            <li><a href="#xpath-predicado">Predicado (predicate)</a></li>
            <li><a href="#xpath-seleccion-nodos">Sesección nodos (node test)</a></li>
            <li><a href="#xpath-pasos-consecutivos">Pasos consecutivos</a></li>
            <li><a href="#xpath-expresiones-anidadas">Expresións anidadas</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <section id="xpath-que-es">
    <h2>Qué es XPath</h2>

    <p>XPath es un linguaxe que permite seleccionar nodos dun documento XML e calcular valores a partir de su contenido. Existen varias versións de XPath aprobadas por o W3C.</p>

    <ul>
      <li>novembro de 1999: <a href="http://www.w3.org/TR/1999/REC-xpath-19991116/">XML Path Language (XPath) 1.0</a></li>
      <li>xaneiro de 2007: <a href="http://www.w3.org/TR/2007/REC-xpath20-20070123/">XML Path Language (XPath) 2.0</a></li>
      <li>decembro de 2010: <a href="http://www.w3.org/TR/2010/REC-xpath20-20101214/">XML Path Language (XPath) 2.0 (2ª edición)</a></li>
      <li>abril de 2014: <a href="http://www.w3.org/TR/2014/REC-xpath-30-20140408/">XML Path Language (XPath) 3.0</a></li>
      <li>marzo de 2017: <a href="https://www.w3.org/TR/2017/REC-xpath-31-20170321/">XML Path Language (XPath) 3.1</a></li>
    </ul>

    <p class="mcl-svg-diagrama-temporal">
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="850" viewBox="-50 -60 850 100">
        <line x1="-50" y1="0" x2="950" y2="0" stroke-width="3" stroke="red" />
        <line x1="0" y1="-30" x2="0" y2="30" stroke-width="2" stroke-dasharray="5,5" stroke="black" />
        <text x="0" y="-40" text-anchor="middle" style="font-size: 100%">1995</text>
        <line x1="150" y1="-30" x2="150" y2="30" stroke-width="2" stroke-dasharray="5,5" stroke="black" />
        <text x="150" y="-40" text-anchor="middle" style="font-size: 100%">2000</text>
        <line x1="300" y1="-30" x2="300" y2="30" stroke-width="2" stroke-dasharray="5,5" stroke="black" />
        <text x="300" y="-40" text-anchor="middle" style="font-size: 100%">2005</text>
        <line x1="450" y1="-30" x2="450" y2="30" stroke-width="2" stroke-dasharray="5,5" stroke="black" />
        <text x="450" y="-40" text-anchor="middle" style="font-size: 100%">2010</text>
        <line x1="600" y1="-30" x2="600" y2="30" stroke-width="2" stroke-dasharray="5,5" stroke="black" />
        <text x="600" y="-40" text-anchor="middle" style="font-size: 100%">2015</text>
        <line x1="750" y1="-30" x2="750" y2="30" stroke-width="2" stroke-dasharray="5,5" stroke="black" />
        <text x="750" y="-40" text-anchor="middle" style="font-size: 100%">2020</text>
        <circle cx="146" cy="0" r="7" fill="red" />
        <text x="146" y="-15" text-anchor="middle" fill="red" style="font-size: 100%; font-weight: bold">XPath 1.0</text>
        <circle cx="362" cy="0" r="7" fill="red" />
        <text x="362" y="-15" text-anchor="middle" fill="red" style="font-size: 100%; font-weight: bold">XPath 2.0</text>
        <circle cx="479" cy="0" r="7" fill="red" />
        <text x="469" y="-15" text-anchor="middle" fill="red" style="font-size: 100%; font-weight: bold">XPath 2.0 2ª ed</text>
        <circle cx="578" cy="0" r="7" fill="red" />
        <text x="578" y="-15" text-anchor="middle" fill="red" style="font-size: 100%; font-weight: bold">XPath 3.0</text>
        <circle cx="667" cy="0" r="7" fill="red" />
        <text x="667" y="-15" text-anchor="middle" fill="red" style="font-size: 100%; font-weight: bold">XPath 3.1</text>
      </svg>
    </p>

  </section>

  <section id="arbol-documento">
    <h2>Árbol do documento</h2>

    <p>XPath considera un documento XML como un árbol de nodos. En Informática, un árbol es unha estrutura de datos que equivale a un árbol matemático. En Matemáticas un árbol es un caso particular de grafo. Los seguintes términos definidos en teoría de grafos se utilizan tamén en Informática e en XPath:</p>
    <ul>
      <li>Un <strong>grafo</strong> es un conxunto de objetos llamados nodos o vértices unidos por enlaces llamados arcos o aristas.
        <p><img src="../img/grafos/grafos-grafo.svg" alt="Grafo" height="150" /></p>
      </li>
      <li>Un <strong>grafo dirigido</strong> es un grafo no que os arcos teñen dirección.
        <p><img src="../img/grafos/grafos-grafo-dirigido.svg" alt="Grafo dirigido" height="150" /></p>
      </li>
      <li>Cuando dos nodos están unidos por un arco con dirección, o <strong>nodo padre</strong> es o nodo do que parte o arco e o <strong>nodo hijo</strong> es o nodo al que llega o arco.
        <p><img src="../img/grafos/grafos-padre-hijo.svg" alt="Nodo padre e nodo hijo" height="103" /></p>
      </li>
      <li>Un <strong>árbol</strong> es un grafo no que calquera pareja de vértices están conectada por un único camino (es decir, que no hay ciclos). Un <strong>árbol dirigido</strong> es un árbol no que as aristas teñen dirección e todos os nodos menos uno teñen un único padre.
        <p>
          <img src="../img/grafos/grafos-arbol.svg" alt="Árbol" height="200" />
          <img src="../img/grafos/grafos-arbol-dirigido.svg" alt="Árbol dirigido" height="200" />
        </p>
      </li>
      <li>O <strong>nodo raíz</strong> dun árbol dirigido es o único nodo sin padre. Los <strong>nodos hermanos</strong> son os nodos que teñen o mismo padre.
        <p><img src="../img/grafos/grafos-raiz-hermanos.svg" alt="Nodo raíz e nodos hermanos" height="240" /></p>
      </li>
      <li>Los <strong>nodos descendientes</strong> dun nodo son todos os nodos a os que se llega desde o nodo: os hijos, os hijos dos hijos, etc.
        <p><img src="../img/grafos/grafos-descendientes.svg" alt="Nodos descendientes" height="240" /></p>
      </li>
      <li>Los <strong>nodos ascendientes</strong> dun nodo son todos os nodos dos que un nodo es descendiente: o padre, o padre do padre, etc.
        <p><img src="../img/grafos/grafos-ascendientes.svg" alt="Nodos ascendientes" height="240" /></p>
      </li>
    </ul>

    <section id="tipos-nodos">
      <h3>Tipos de nodos</h3>

      <p>Un documento XML puede representarse como un árbol dirigido, considerando por ejemplo os elementos como nodos e que un elemento es padre dos elementos que contiene. Pero en XPath no sólo os elementos son nodos, en realidad hay siete tipos de nodos:</p>
      <ul>
        <li>Raíz</li>
        <li>Elemento</li>
        <li>Atributo</li>
        <li>Texto</li>
        <li>Comentario</li>
        <li>Instrucción de procesamento</li>
        <li>Espacio de nombres</li>
      </ul>

      <p>Nota: La declaración DOCTYPE no se considera como nodo.</p>

      <p>Por ejemplo, o documento XML seguinte:</p>

      <div class="codigo">
        <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;biblioteca&gt;
  &lt;libro&gt;
    &lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
    &lt;autor&gt;Milan Kundera&lt;/autor&gt;
    &lt;fechaPublicacion ano="1973"/&gt;
  &lt;/libro&gt;
  &lt;libro&gt;
    &lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
    &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
    &lt;fechaPublicacion ano="1973"/&gt;
  &lt;/libro&gt;
  &lt;libro&gt;
    &lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
    &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
    &lt;fechaPublicacion ano="1969"/&gt;
  &lt;/libro&gt;
&lt;/biblioteca&gt;</code>
</pre>
      </div>

      <p>se puede representar mediante o seguinte grafo:</p>

      <p class="mcl-centrado"><img src="../img/grafos/grafos-documento.svg" alt="Árbol de documento XML" height="520" /></p>

      <p>Los nodos atributos e de texto no son como os nodos elemento. Por ejemplo, os nodos atributo e de texto no pueden tener descendientes. En realidad o nodo atributo ni siquiera se considera como hijo, sino como unha etiqueta adosada al elemento. O texto contenido por unha etiqueta sí que se considera hijo do elemento, aunque as expresións XPath suelen trabajar con nodos elemento e para referirse a os atributos o al texto se utilizan notacións especiales.</p>
    </section>
  </section>

  <section id="sintaxis-xpath">
    <h2>Sintaxis da expresións XPath</h2>

    <p>Una expresión XPath es unha cadena de texto que representa un recorrido no árbol do documento. as expresións máis simples se parecen a as rutas dos archivos no explorador de Windows o na shell de GNU/Linux.</p>

    <p>Evaluar unha expresión XPath es buscar si hay nodos no documento que se ajustan al recorrido definido na expresión. O resultado da evaluación son todos os nodos que se ajustan a a expresión. Para poder evaluar unha expresión XPath, o documento debe estar ben formado.</p>

    <p>Las expresións XPath se pueden escribir de dos formas distintas:</p>
    <ul>
      <li>sintaxis abreviada: máis compacta e fácil de leer, que se explica en esta sección</li>
      <li>sintaxis completa: máis larga pero con máis opcións disponibles</li>
    </ul>

    <p>Las expresións XPath se pueden dividir en pasos de búsqueda. Cada paso de búsqueda se puede a su vez dividir en tres partes:</p>
    <ul>
      <li>eje: selecciona nodos elemento o atributo basándose en sus nombres.</li>
      <li>predicado: restringe a selección do eje a que os nodos cumplan ciertas condiciones.</li>
      <li>selección de nodos: dos nodos seleccionados por o eje e predicado, selecciona os elementos, o texto que conteñen o ambos.</li>
    </ul>
  </section>

  <section id="sintaxis-abreviada">
    <h2>Sintaxis abreviada</h2>

    <p>Veamos unos ejemplos de expresións XPath de sintaxis abreviada e o resultado de su evaluación no documento de ejemplo anterior:</p>

    <div class="codigo">
      <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;biblioteca&gt;
  &lt;libro&gt;
    &lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
    &lt;autor&gt;Milan Kundera&lt;/autor&gt;
    &lt;fechaPublicacion ano="1973"/&gt;
  &lt;/libro&gt;
  &lt;libro&gt;
    &lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
    &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
    &lt;fechaPublicacion ano="1973"/&gt;
  &lt;/libro&gt;
  &lt;libro&gt;
    &lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
    &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
    &lt;fechaPublicacion ano="1969"/&gt;
  &lt;/libro&gt;
&lt;/biblioteca&gt;</code>
</pre>
    </div>

    <section id="xpath-eje">
      <h3>Eje (en inglés, axis)</h3>

      <p>O eje nos permite seleccionar un subconxunto de nodos do documento e corresponde a recorridos no árbol do documento. Los nodos elemento se indican mediante o nombre do elemento. Los nodos atributo se indican mediante @ e o nombre do atributo.</p>
      <ul>
        <li><strong>/</strong>: si está al principio da expresión, indica o nodo raíz, si no, indica "hijo". Debe ir seguida do nombre dun elemento.

          <div class="filaflex">
            <div class="codigo">/biblioteca/libro/autor</div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;autor&gt;Milan Kundera&lt;/autor&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;</code>
</pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">/autor</div>
            <div class="resultado-xpath">No devuelve nada porque <span class="xml-tag">&lt;autor&gt;</span> no es hijo do nodo raíz.</div>
          </div>

          <div class="filaflex">
            <div class="codigo">/biblioteca/autor</div>
            <div class="resultado-xpath">No devuelve nada porque <span class="xml-tag">&lt;autor&gt;</span> no es hijo de <span class="xml-tag">&lt;biblioteca&gt;</span>.</div>
          </div>

          <div class="filaflex">
            <div class="codigo">/biblioteca/libro/autor/@fechaNacimiento</div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml"> <span class="xml-attr">fechaNacimiento</span>="28/03/1936"
 <span class="xml-attr">fechaNacimiento</span>="28/03/1936"</code>
</pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">/biblioteca/libro/@fechaNacimiento</div>
            <div class="resultado-xpath">No devuelve nada porque <span class="xml-tag">&lt;libro&gt;</span> no tiene o atributo <span class="xml-attr">fechaNacimiento</span>.</div>
          </div>

          <p><strong>Nota</strong>: En XPath 1.0 no se puede seleccionar únicamente o valor do atributo, sino que se obteñen respostas do tipo nombreDelAtributo=ValorDelAtributo</p>
        </li>
        <li><strong>/</strong><strong>/</strong>: indica "descendiente" (hijos, hijos de hijos, etc.).

          <div class="filaflex">
            <div class="codigo">/biblioteca//autor</div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;autor&gt;Milan Kundera&lt;/autor&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;</code>
</pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">//autor</div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;autor&gt;Milan Kundera&lt;/autor&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;</code>
</pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">//autor//libro</div>
            <div class="resultado-xpath">No devuelve nada porque <span class="xml-tag">&lt;libro&gt;</span> no es descendiente de <span class="xml-tag">&lt;autor&gt;</span>.</div>
          </div>

          <div class="filaflex">
            <div class="codigo">//@ano</div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml"> <span class="xml-attr">ano</span>="1973"
 <span class="xml-attr">ano</span>="1973"
 <span class="xml-attr">ano</span>="1969"</code>
</pre>
            </div>
          </div>
        </li>
        <li><strong>/..</strong>: indica o elemento padre.
          <p><strong>Nota</strong>: En o resultado dos ejemplos seguintes se obteñen únicamente os nodos que teñen o atributo <span class="xml-attr">fechaNacimiento</span>.</p>

          <div class="filaflex">
            <div class="codigo">/biblioteca/libro/autor/@fechaNacimiento/..</div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;</code>
</pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">//@fechaNacimiento/../..</div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;libro&gt;
  &lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1973"/&gt;
&lt;/libro&gt;
&lt;libro&gt;
  &lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1969"/&gt;
&lt;/libro&gt;</code>
</pre>
            </div>
          </div>
        </li>
        <li><strong>|</strong>: permite indicar varios recorridos.

          <div class="filaflex">
            <div class="codigo">//autor|//titulo</div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
&lt;autor&gt;Milan Kundera&lt;/autor&gt;
&lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
&lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;</code>
</pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">//autor|//titulo|//@ano</div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
&lt;autor&gt;Milan Kundera&lt;/autor&gt;
 ano="1973"
&lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
 ano="1973"
&lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
 ano="1969"</code>
 </pre>
            </div>
          </div>
        </li>
      </ul>
    </section>

    <section id="xpath-predicado">
      <h3>Predicado (en inglés, predicate)</h3>

      <p>O predicado se escribe entre corchetes, a continuación do eje. Si o eje ha seleccionado unos nodos, o predicado permite restringir esa selección a os que cumplan determinadas condiciones.</p>
      <ul>
        <li><strong>[@atributo]</strong>: selecciona os elementos que teñen o atributo.

          <div class="filaflex">
            <div class="codigo">//autor<strong>[@fechaNacimiento]</strong></div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;</code>
</pre>
            </div>
          </div>
        </li>
        <li><strong>[número]</strong>: si hay varios resultados selecciona uno de ellos por número de orden; <strong>last()</strong> selecciona o último de ellos

          <div class="filaflex">
            <div class="codigo">//libro<strong>[1]</strong></div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;libro&gt;
  &lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
  &lt;autor&gt;Milan Kundera&lt;/autor&gt;
  &lt;fechaPublicacion ano="1973"/&gt;
&lt;/libro&gt;</code>
</pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">//libro<strong>[last()]</strong></div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;libro&gt;
  &lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1969"/&gt;
&lt;/libro&gt;</code>
</pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">//libro<strong>[last()-1]</strong></div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;libro&gt;
  &lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1973"/&gt;
&lt;/libro&gt;</code>
</pre>
            </div>
          </div>
        </li>
      </ul>
      <ul>
        <li><strong>[condicion]</strong>: selecciona os nodos que cumplen a condición.
          <p>Los predicados permiten definir condicións sobre os valores dos atributos. En as condicións se pueden utilizar os operadores seguintes:</p>
          <ul>
            <li>operadores lóxicos: and, or, not()</li>
            <li>operadores aritméticos: +, -, *, div, mod</li>
            <li>operadores de comparación: =, !=, &lt;, &gt;, &lt;=, &gt;=</li>
          </ul>
          <p>Las comparacións se pueden hacer entre valores de nodos e atributos o con cadenas de texto o numéricas. as cadenas de texto deben escribirse entre comillas simples o dobles. En o caso de as cadenas numéricas, as comillas son optativas.</p>
          <ul>
            <li>La condición puede utilizar o valor dun atributo (utilizando @) o o texto que contiene o elemento. <br /> Nos ejemplos seguintes se obteñen respectivamente os elementos &lt;fechaPublicacion&gt; cuyo atributo ano es posterior/maior a 1970 e os elementos &lt;libro&gt; cuyo subelemento &lt;autor&gt; tiene como contenido "Mario Vargas Llosa":

              <div class="filaflex">
                <div class="codigo">//fechaPublicacion<strong>[@ano&gt;1970]</strong></div>
                <div class="resultado-xpath">
                  <pre>
<code class="language-xml">&lt;fechaPublicacion ano="1973"/&gt;
&lt;fechaPublicacion ano="1973"/&gt;</code>
</pre>
                </div>
              </div>

              <div class="filaflex">
                <div class="codigo">//libro<strong>[autor="Mario Vargas
                    Llosa"]</strong></div>
                <div class="resultado-xpath">
                  <pre>
<code class="language-xml">&lt;libro&gt;
  &lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1973"/&gt;
&lt;/libro&gt;
&lt;libro&gt;
  &lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1969"/&gt;
&lt;/libro&gt;</code>
</pre>
                </div>
              </div>
            </li>
            <li>Para hacer referencia al propio valor do elemento seleccionado se utiliza o punto (.).

              <div class="filaflex">
                <div class="codigo">//@ano<strong>[.&gt;1970]</strong></div>
                <div class="resultado-xpath">
                  <pre>
<code class="language-xml"> <span class="xml-attr">ano</span>="1973"
 <span class="xml-attr">ano</span>="1973"</code>
 </pre>
                </div>
              </div>

              <div class="filaflex">
                <div class="codigo">//autor<strong>[.="Mario Vargas Llosa"]</strong></div>
                <div class="resultado-xpath">
                  <pre>
<code class="language-xml">&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;</code>
</pre>
                </div>
              </div>
            </li>
            <li>Un predicado puede contener condicións compuestas.<br /> Nos ejemplos seguintes se seleccionan, respectivamente , os libros escritos por Mario Vargas Llosa <strong>y</strong> publicados en 1973 (primer ejemplo) e os libros escritos por Mario Vargas Llosa <strong>o</strong> publicados en 1973 (segundo ejemplo):

              <div class="filaflex">
                <div class="codigo">//libro[autor="Mario Vargas Llosa" <strong>and</strong> fechaPublicacion/@ano="1973"]</div>
                <div class="resultado-xpath">
                  <pre>
<code class="language-xml">&lt;libro&gt;
  &lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1973"/&gt;
&lt;/libro&gt;</code>
</pre>
                </div>
              </div>

              <div class="filaflex">
                <div class="codigo">//libro[autor="Mario Vargas Llosa" <strong>or</strong> fechaPublicacion/@ano="1973"]</div>
                <div class="resultado-xpath">
                  <pre>
<code class="language-xml">&lt;libro&gt;
  &lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
  &lt;autor&gt;Milan Kundera&lt;/autor&gt;
  &lt;fechaPublicacion ano="1973"/&gt;
&lt;/libro&gt;
&lt;libro&gt;
  &lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1973"/&gt;
&lt;/libro&gt;
&lt;libro&gt;
  &lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1969"/&gt;
&lt;/libro&gt;</code>
</pre>
                </div>
              </div>
            </li>
            <li>Se pueden escribir varios predicados seguidos, cada uno dos cuales restringe os resultados do anterior, como si estuvieran encadenados por a operación lógica and.<br /> En o ejemplo seguinte se seleccionan os libros escritos por Mario Vargas Llosa e publicados en 1973:

              <div class="filaflex">
                <div class="codigo">//libro[autor="Mario Vargas Llosa"][fechaPublicacion/@ano="1973"]</div>
                <div class="resultado-xpath">
                  <pre>
<code class="language-xml">&lt;libro&gt;
  &lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1973"/&gt;
&lt;/libro&gt;</code>
</pre>
                </div>
              </div>
            </li>
          </ul>
        </li>
      </ul>
    </section>

    <section id="xpath-seleccion-nodos">
      <h3>Selección de nodos (en inglés, node test)</h3>

      <p>La selección de nodos se escribe a continuación do eje e o predicado. Si o eje e o predicado han seleccionado unos nodos, a selección de nodos indica con qué parte de esos nodos nos quedamos.</p>
      <ul>
        <li><strong>/node()</strong>: selecciona todos os hijos (elementos o texto) do nodo.<br />
          <strong>//node()</strong>: selecciona todos os descendientes (elementos o texto) do nodo.

          <div class="filaflex">
            <div class="codigo">//libro<strong>/node()</strong></div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
&lt;autor&gt;Milan Kundera&lt;/autor&gt;
&lt;fechaPublicacion ano="1973"/&gt;
&lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
&lt;fechaPublicacion ano="1973"/&gt;
&lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
&lt;fechaPublicacion ano="1969"/&gt;</code>
</pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">//autor<strong>/node()</strong></div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">Milan Kundera
Mario Vargas Llosa
Mario Vargas Llosa</code>
</pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">//libro<strong>//node()</strong></div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
La vida está en otra parte
&lt;autor&gt;Milan Kundera&lt;/autor&gt;
Milan Kundera
&lt;fechaPublicacion ano="1973"/&gt;
&lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
Pantaleón e as visitadoras
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
Mario Vargas Llosa
&lt;fechaPublicacion ano="1973"/&gt;
&lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
Conversación na catedral
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
Mario Vargas Llosa
&lt;fechaPublicacion ano="1969"/&gt;</code>
</pre>
            </div>
          </div>
        </li>
        <li><strong>/text()</strong>: selecciona únicamente o texto contenido no nodo.<br />
          <strong>//text()</strong>: selecciona únicamente o texto contenido no nodo e todos sus descendientes.

          <div class="filaflex">
            <div class="codigo">//autor<strong>/text()</strong></div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">Milan Kundera
Mario Vargas Llosa
Mario Vargas Llosa</code>
</pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">//libro<strong>/text()</strong></div>
            <div class="resultado-xpath">No devuelve nada porque <span class="xml-tag">&lt;libro&gt;</span> no contiene texto.</div>
          </div>

          <div class="filaflex">
            <div class="codigo">//libro<strong>//text()</strong></div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">La vida está en otra parte
Milan Kundera
Pantaleón e as visitadoras
Mario Vargas Llosa
Conversación na catedral
Mario Vargas Llosa</code>
</pre>
            </div>
          </div>
        </li>
        <li><strong>/*</strong>: selecciona todos os hijos (sólo elementos) do nodo. <br />
          <strong>//*</strong>: selecciona todos os descendientes (sólo elementos) do nodo.

          <div class="filaflex">
            <div class="codigo">/biblioteca<strong>/*</strong></div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;libro&gt;
  &lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
  &lt;autor&gt;Milan Kundera&lt;/autor&gt;
  &lt;fechaPublicacion ano="1973"/&gt;
&lt;/libro&gt;
&lt;libro&gt;
  &lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1973"/&gt;
&lt;/libro&gt;
&lt;libro&gt;
  &lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1969"/&gt;
&lt;/libro&gt;</code>
</pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">//autor<strong>/*</strong></div>
            <div class="resultado-xpath">No devuelve nada porque <span class="xml-tag">&lt;autor&gt;</span> sólo contiene texto.</div>
          </div>

          <div class="filaflex">
            <div class="codigo">/biblioteca<strong>//*</strong></div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;libro&gt;
  &lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
  &lt;autor&gt;Milan Kundera&lt;/autor&gt;
  &lt;fechaPublicacion ano="1973"/&gt;
&lt;/libro&gt;
&lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
&lt;autor&gt;Milan Kundera&lt;/autor&gt;
&lt;fechaPublicacion ano="1973"/&gt;
&lt;libro&gt;
  &lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1973"/&gt;
&lt;/libro&gt;
&lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
&lt;fechaPublicacion ano="1973"/&gt;
&lt;libro&gt;
  &lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1969"/&gt;
&lt;/libro&gt;
&lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
&lt;fechaPublicacion ano="1969"/&gt;</code>
</pre>
            </div>
          </div>
        </li>
        <li><strong>/@*</strong>: selecciona todos os atributos do nodo.<br />
          <strong>//@*</strong>: selecciona todos os atributos dos descendientes do nodo.

          <div class="filaflex">
            <div class="codigo">//@*</div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml"><span class="xml-attr">ano</span>="1973"
<span class="xml-attr">fechaNacimiento</span>="28/03/1936"
<span class="xml-attr">ano</span>="1973"
<span class="xml-attr">fechaNacimiento</span>="28/03/1936"
<span class="xml-attr">ano</span>="1969"</code>
</pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">//libro/@*</div>
            <div class="resultado-xpath">No devuelve nada porque <span class="xml-tag">&lt;libro&gt;</span> no tiene atributos.</div>
          </div>

          <div class="filaflex">
            <div class="codigo">//autor/@*</div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml"> <span class="xml-attr">fechaNacimiento</span>="28/03/1936"
 <span class="xml-attr">fechaNacimiento</span>="28/03/1936"</code>
 </pre>
            </div>
          </div>
          <p><strong>Nota</strong>: En XPath 1.0 no se puede seleccionar únicamente o valor do atributo, sino que se obteñen respostas do tipo nombreDelAtributo=ValorDelAtributo</p>
        </li>
      </ul>
    </section>

    <section id="xpath-pasos-consecutivos">
      <h3>Pasos de búsqueda consecutivos</h3>

      <p>Una expresión XPath puede contener varios pasos de búsqueda consecutivos. Cada uno incluirá su eje (y en su caso, su predicado) e o último paso de búsqueda incluirá en su caso unha selección de nodos. Cada paso de búsqueda trabaja a partir dos nodos seleccionados por o paso de búsqueda anterior.</p>

      <p>En o ejemplo seguinte se obteñen os títulos dos libros publicados despois de 1970, mediante dos pasos de búsqueda:</p>

      <ul>
        <li>no primer paso (//fechaPublicacion[@ano&gt;1970]) se seleccionan os elementos &lt;fechaPublicacion&gt; cuyo atributo ano es superior a 1970.</li>
        <li>no segundo paso (/../titulo), se seleccionan primero os elementos padre (/..) dos &lt;fechaPublicacion&gt; seleccionados no primer paso de búsqueda (es decir, elementos &lt;libro&gt;) e a continuación sus subelementos &lt;titulo&gt;.</li>
      </ul>

      <div class="filaflex">
        <div class="codigo">//fechaPublicacion[@ano&gt;1970]/../titulo</div>
        <div class="resultado-xpath">
          <pre>
<code class="language-xml">&lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
&lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;</code>
</pre>
        </div>
      </div>

      <p>Un determinado resultado se puede obtener mediante un sólo paso de búsqueda o mediante varios pasos.</p>
      <ul>
        <li>Nos ejemplos seguintes se obteñen os libros escritos por Mario Vargas Llosa de dos formas distintas:
          <ul>
            <li>mediante un sólo paso de búsqueda. Se seleccionan os elementos &lt;libro&gt; cuyo subelemento &lt;autor&gt; tiene como contenido a cadena "Mario Vargas Llosa".

              <div class="filaflex">
                <div class="codigo">//libro[autor="Mario Vargas Llosa"]</div>
                <div class="resultado-xpath">
                  <pre>
<code class="language-xml">&lt;libro&gt;
  &lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1973"/&gt;
&lt;/libro&gt;
&lt;libro&gt;
  &lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1969"/&gt;
&lt;/libro&gt;</code>
</pre>
                </div>
              </div>
            </li>
            <li>mediante dos pasos de búsqueda. En o primer paso se seleccionan os elementos &lt;autor&gt; cuyo contenido es a cadena "Mario Vargas Llosa". En o segundo paso de búsqueda se seleccionan os elementos padre (es decir, os elementos &lt;libro&gt;).

              <div class="filaflex">
                <div class="codigo">//autor[.="Mario Vargas Llosa"]/..</div>
                <div class="resultado-xpath">
                  <pre>
<code class="language-xml">&lt;libro&gt;
  &lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1973"/&gt;
&lt;/libro&gt;
&lt;libro&gt;
  &lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
  &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
  &lt;fechaPublicacion ano="1969"/&gt;
&lt;/libro&gt;</code>
</pre>
                </div>
              </div>
            </li>
          </ul>
        </li>
        <li>Nos ejemplos seguintes se obtiene o autor que ha publicado libros en 1969 de varias formas distintas:

          <div class="filaflex">
            <div class="codigo">//@ano[.=1969]/../../autor</div>
            <div class="resultado-xpath">
              <pre><code class="language-xml">&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;</code></pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">//libro[fechaPublicacion/@ano=1969]/autor</div>
            <div class="resultado-xpath">
              <pre><code class="language-xml">&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;</code></pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">//fechaPublicacion[@ano=1969]/../autor</div>
            <div class="resultado-xpath">
              <pre><code class="language-xml">&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;</code></pre>
            </div>
          </div>

          <div class="filaflex">
            <div class="codigo">//autor[../fechaPublicacion/@ano=1969]</div>
            <div class="resultado-xpath">
              <pre><code class="language-xml">&lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;</code></pre>
            </div>
          </div>
        </li>
      </ul>
    </section>

    <section id="xpath-expresiones-anidadas">
      <h3>Expresións anidadas</h3>

      <p>Las expresións XPath pueden anidarse, lo que permite definir expresións máis complicadas. Por ejemplo, no documento utilizado anteriormente:</p>

      <div class="codigo">
        <pre>
<code class="language-xml">&lt;?xml <span class="attr-name">version</span>=<span class="attr-value">"1.0"</span> <span class="attr-name">encoding</span>=<span class="attr-value">"UTF-8"</span>?&gt;
&lt;biblioteca&gt;
  &lt;libro&gt;
    &lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
    &lt;autor&gt;Milan Kundera&lt;/autor&gt;
    &lt;fechaPublicacion ano="1973"/&gt;
  &lt;/libro&gt;
  &lt;libro&gt;
    &lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
    &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
    &lt;fechaPublicacion ano="1973"/&gt;
  &lt;/libro&gt;
  &lt;libro&gt;
    &lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;
    &lt;autor fechaNacimiento="28/03/1936"&gt;Mario Vargas Llosa&lt;/autor&gt;
    &lt;fechaPublicacion ano="1969"/&gt;
  &lt;/libro&gt;
&lt;/biblioteca&gt;</code>
</pre>
      </div>

      <p>Un ejemplo de expresión anidada sería, por ejemplo, obtener os títulos dos libros publicados o mismo ano que a novela "La vida está en otra parte". Esta información no está directamente almacenada no documento, pero se puede obtener a resposta en dos pasos:</p>
      <ul>
        <li>obtener primero o ano en que se publicou a novela "La vida está en otra parte":

          <div class="filaflex">
            <div class="codigo">//libro[titulo="La vida está en otra parte"]/fechaPublicacion/@ano</div>
            <div class="resultado-xpath">
              <pre><code class="language-xml">ano="1973"</code></pre>
            </div>
          </div>
        </li>
        <li>y obtener despois os títulos dos libros publicados en 1973:

          <div class="filaflex">
            <div class="codigo">//libro[fechaPublicacion/@ano=1973]/titulo</div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
&lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;</code>
</pre>
            </div>
          </div>
        </li>
      </ul>

      <p>Estas dos expresións se pueden unir en unha única expresión, sustituyendo na segunda expresión o valor 1973 por a primera expresión:</p>

      <div class="filaflex">
        <div class="codigo">//libro[fechaPublicacion/@ano=<span class="codigo-resaltado">//libro[titulo="La vida está en otra parte"]/fechaPublicacion/@ano</span>]/titulo</div>
        <div class="resultado-xpath">
          <pre>
<code class="language-xml">&lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
&lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;</code>
</pre>
        </div>
      </div>

      <p>Como cada unha de as expresións puede escribirse de varias maneras, en realidad hay muchas formas de encontrar a resposta. Por ejemplo, na solución seguinte os predicados se encuentran al final do eje en cada subexpresión:</p>

      <div class="filaflex">
        <div class="codigo">//titulo[../fechaPublicacion/@ano=<span class="codigo-resaltado">//@ano[../../titulo="La vida está en otra parte"]</span>]</div>
        <div class="resultado-xpath">
          <pre>
<code class="language-xml">&lt;titulo&gt;La vida está en otra parte&lt;/titulo&gt;
&lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;</code>
</pre>
        </div>
      </div>

      <hr class="corta" />

      <p>Otro ejemplo de expresión anidada sería obtener os títulos dos libros do mismo autor que a novela "Pantaleón e as visitadoras". Como no ejemplo anterior, a resposta puede obtenerse en dos pasos:</p>

      <ul>
        <li>obtener primero o autor da novela "Pantaleón e as visitadoras":

          <div class="filaflex">
            <div class="codigo">//libro[titulo="Pantaleón e as visitadoras"]/autor/text()</div>
            <div class="resultado-xpath">
              <pre><code class="language-xml">Mario Vargas Llosa</code></pre>
            </div>
          </div>
        </li>
        <li>y obtener despois os títulos dos libros escritos por Mario Vargas Llosa:

          <div class="filaflex">
            <div class="codigo">//libro[autor="Mario Vargas Llosa"]/titulo</div>
            <div class="resultado-xpath">
              <pre>
<code class="language-xml">&lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
&lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;</code>
</pre>
            </div>
          </div>
        </li>
      </ul>

      <p>Estas dos expresións se pueden unir en unha única expresión, sustituyendo na segunda expresión o valor "Mario Vargas Llosa" por a primera expresión:</p>

      <div class="filaflex">
        <div class="codigo">//libro[autor=<span class="codigo-resaltado">//libro[titulo="Pantaleón e as visitadoras"]/autor/text()</span>]/titulo</div>
        <div class="resultado-xpath">
          <pre>
<code class="language-xml">&lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
&lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;</code>
</pre>
        </div>
      </div>

      <p>Un detalle importante es que no hay que escribir a primera expresión entre comillas.</p>

      <p>Incluso se puede omitir a selección de nodos /text() da segunda expresión e escribir a expresión XPath así:</p>

      <div class="filaflex">
        <div class="codigo">//libro[autor=<span class="codigo-resaltado">//libro[titulo="Pantaleón e as visitadoras"]/autor</span>]/titulo</div>
        <div class="resultado-xpath">
          <pre>
<code class="language-xml">&lt;titulo&gt;Pantaleón e as visitadoras&lt;/titulo&gt;
&lt;titulo&gt;Conversación na catedral&lt;/titulo&gt;</code>
</pre>
        </div>
      </div>
    </section>
  </section>

  <footer>
    <p class="ultmod">Última modificación de esta páxina: 21 de marzo de 2017</p>

    <p class="licencia">
      <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES"><img src="../varios/iconos/icono-cc-by-sa.svg" alt="Licencia Creative Commons" title="Licencia Creative Commons BY-SA" width="120" height="42" /></a><br />
      Esta páxina forma parte do curso <strong><a href="https://www.mclibre.org/consultar/xml/">XML: Linguaxe de marcas extensible</a></strong> por <a href="https://www.mclibre.org/">Bartolomé Sintes Marco</a><br />
      que se distribuye bajo unha <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES">Licencia Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional (CC BY-SA 4.0)</a>.
    </p>
  </footer>
</body>
</html>
